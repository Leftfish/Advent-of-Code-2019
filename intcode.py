from collections import defaultdict

class Computer():
    def __init__(self):
        self.memory = [0] * 10000
        self.ptr = 0
        self.rel_base = 0
        self.input = []
        self.output = []

    def __repr__(self):
        status = ''
        status += "Pointer: {}\n".format(self.ptr)
        status += "Relative base: {}\n".format(self.rel_base)
        status += "InStream: {}\n".format(self.input)
        status += "Output: {}\n".format(self.output)
        status += "Next op: {}\n".format(self.memory[self.ptr])
        return status

    def load_program(self, code):
        for i in range(len(code)):
            self.memory[i] = code[i]

    def reset(self):
        self.memory = [0] * 10000
        self.ptr = 0
        self.rel_base = 0
        self.input = []
        self.output = []

    def set_input(self, inp):
        self.input.append(inp)

    def _parse_opcode(self, code):
        if len(str(code)) <= 2:
            params = [0, 0, 0]
            return code, params
        else:
            filled = str(code).zfill(5)
            code = int(filled[-2:])
            params = list(reversed(list(map(int, filled[:-2]))))
            return code, params

    def _get_data(self, params, args):
        data = []
        for p, v in zip(params, args):
            if p == 0: # POSITION MODE
                data.append(self.memory[v])
            elif p == 1: # IMMEDIATE MODE
                data.append(v)
            elif p == 2: # RELATIVE MODE
                data.append(self.memory[self.rel_base + v])
        return data

    def _get_write_addr(self, op, params, args):
        write_mode = params[0] if op == 3 else params[-1]
        if write_mode == 0: # POSITION MODE
            target = args[-1]
        elif write_mode == 2: # RELATIVE MODE
            target = args[-1] + self.rel_base
        return target
    
    def _get_op_len(self, code):
        op_len = 1
        if code in (3, 4, 9):
            op_len = 2
        elif code in (5, 6):
            op_len = 3
        elif code in (1, 2, 7, 8):
            op_len = 4
        return op_len

def run(c, noun=None, verb=None, debug=False, stop_output=False):
    if noun:
        c.memory[1] = noun
    if verb:
        c.memory[2] = verb
    
    while c.memory[c.ptr] != 99:
        op, params = c._parse_opcode(c.memory[c.ptr])
        op_len = c._get_op_len(op)
        args = c.memory[c.ptr + 1:c.ptr + op_len]
        data = c._get_data(params, args)
        exit_code = 0

        if debug: print("Operation: ", c.memory[c.ptr:c.ptr+op_len], "ptr", c.ptr, "rb", c.rel_base)
        if op == 1: # ADD
            target = c._get_write_addr(op, params, args)
            c.memory[target] = data[0] + data[1]
            c.ptr += op_len
        if op == 2: # MULTIPLY
            target = c._get_write_addr(op, params, args)
            c.memory[target] = data[0] * data[1]
            c.ptr += op_len
        if op == 3: # INPUT
            target = c._get_write_addr(op, params, args)
            try:
                inp = c.input.pop(0)
            except:
                inp = int(input("?: "))
            c.memory[target] = inp
            c.ptr += op_len
        if op == 4: # OUTPUT
            if debug: print("Output: ", data[0])
            c.output.append(data[0])
            c.ptr += op_len
            if stop_output: 
                exit_code = 1
                break
        if op == 5: # JUMP IF TRUE
            if data[0]:
                c.ptr = data[1]
            else:
                c.ptr += op_len
        if op == 6: # JUMP IF FALSE
            if not data[0]:
                c.ptr = data[1]
            else:
                c.ptr += op_len
        if op == 7: # LESS THAN
            target = c._get_write_addr(op, params, args)
            if data[0] < data[1]:
                c.memory[target] = 1
            else:
                c.memory[target] = 0
            c.ptr += op_len
        if op == 8: # EQUALS
            target = c._get_write_addr(op, params, args)
            if data[0] == data[1]:
                c.memory[target] = 1
            else:
                c.memory[target] = 0
            c.ptr += op_len
        if op == 9: # CHANGE REL BASE
            c.rel_base += data[0]
            c.ptr += op_len
    return exit_code

'''# DAY 2: TESTS
c1 = Computer()
code_1 = [1,0,0,3,1,1,2,3,1,3,4,3,1,5,0,3,2,6,1,19,1,19,10,23,2,13,23,27,1,5,27,31,2,6,31,35,1,6,35,39,2,39,9,43,1,5,43,47,1,13,47,51,1,10,51,55,2,55,10,59,2,10,59,63,1,9,63,67,2,67,13,71,1,71,6,75,2,6,75,79,1,5,79,83,2,83,9,87,1,6,87,91,2,91,6,95,1,95,6,99,2,99,13,103,1,6,103,107,1,2,107,111,1,111,9,0,99,2,14,0,0]
c1.load_program(code_1)
run(c1,12,2)
print("Day 2 pt.1: ", c1.memory[0] == 4138687)
'''
'''
# DAY 5: TESTS
c2 = Computer()
code_2 = [3,225,1,225,6,6,1100,1,238,225,104,0,1102,83,20,225,1102,55,83,224,1001,224,-4565,224,4,224,102,8,223,223,101,5,224,224,1,223,224,223,1101,52,15,225,1102,42,92,225,1101,24,65,225,101,33,44,224,101,-125,224,224,4,224,102,8,223,223,1001,224,7,224,1,223,224,223,1001,39,75,224,101,-127,224,224,4,224,1002,223,8,223,1001,224,3,224,1,223,224,223,2,14,48,224,101,-1300,224,224,4,224,1002,223,8,223,1001,224,2,224,1,223,224,223,1002,139,79,224,101,-1896,224,224,4,224,102,8,223,223,1001,224,2,224,1,223,224,223,1102,24,92,225,1101,20,53,224,101,-73,224,224,4,224,102,8,223,223,101,5,224,224,1,223,224,223,1101,70,33,225,1101,56,33,225,1,196,170,224,1001,224,-38,224,4,224,102,8,223,223,101,4,224,224,1,224,223,223,1101,50,5,225,102,91,166,224,1001,224,-3003,224,4,224,102,8,223,223,101,2,224,224,1,224,223,223,4,223,99,0,0,0,677,0,0,0,0,0,0,0,0,0,0,0,1105,0,99999,1105,227,247,1105,1,99999,1005,227,99999,1005,0,256,1105,1,99999,1106,227,99999,1106,0,265,1105,1,99999,1006,0,99999,1006,227,274,1105,1,99999,1105,1,280,1105,1,99999,1,225,225,225,1101,294,0,0,105,1,0,1105,1,99999,1106,0,300,1105,1,99999,1,225,225,225,1101,314,0,0,106,0,0,1105,1,99999,1107,677,677,224,1002,223,2,223,1006,224,329,1001,223,1,223,1107,226,677,224,102,2,223,223,1005,224,344,101,1,223,223,108,677,677,224,1002,223,2,223,1006,224,359,101,1,223,223,107,677,677,224,1002,223,2,223,1006,224,374,1001,223,1,223,1007,677,677,224,102,2,223,223,1006,224,389,101,1,223,223,108,677,226,224,102,2,223,223,1006,224,404,101,1,223,223,1108,226,677,224,102,2,223,223,1005,224,419,1001,223,1,223,7,677,226,224,102,2,223,223,1005,224,434,101,1,223,223,1008,677,677,224,102,2,223,223,1006,224,449,1001,223,1,223,1007,677,226,224,1002,223,2,223,1006,224,464,101,1,223,223,1108,677,677,224,1002,223,2,223,1005,224,479,1001,223,1,223,107,226,226,224,1002,223,2,223,1005,224,494,101,1,223,223,8,226,677,224,102,2,223,223,1006,224,509,101,1,223,223,8,677,677,224,102,2,223,223,1006,224,524,101,1,223,223,1007,226,226,224,1002,223,2,223,1006,224,539,1001,223,1,223,107,677,226,224,102,2,223,223,1006,224,554,101,1,223,223,1107,677,226,224,1002,223,2,223,1006,224,569,1001,223,1,223,1008,226,677,224,102,2,223,223,1006,224,584,1001,223,1,223,1008,226,226,224,1002,223,2,223,1005,224,599,1001,223,1,223,7,677,677,224,1002,223,2,223,1005,224,614,1001,223,1,223,1108,677,226,224,1002,223,2,223,1005,224,629,101,1,223,223,7,226,677,224,1002,223,2,223,1005,224,644,1001,223,1,223,8,677,226,224,102,2,223,223,1005,224,659,101,1,223,223,108,226,226,224,102,2,223,223,1005,224,674,101,1,223,223,4,223,99,226]
c2.load_program(code_2)
c2.set_input(1)
run(c2)
print("Day 5 pt.1: ", c2.output[0] == 12428642)
print(c2)
c2.reset()
c2.load_program(code_2)
c2.set_input(5)
run(c2)
print("Day 5 pt.2: ", c2.output[0] == 918655)
print(c2)
'''
'''
# DAY 9: TESTS
c3 = Computer()
code_3 = [1102,34463338,34463338,63,1007,63,34463338,63,1005,63,53,1102,3,1,1000,109,988,209,12,9,1000,209,6,209,3,203,0,1008,1000,1,63,1005,63,65,1008,1000,2,63,1005,63,904,1008,1000,0,63,1005,63,58,4,25,104,0,99,4,0,104,0,99,4,17,104,0,99,0,0,1101,20,0,1007,1101,0,197,1022,1102,475,1,1028,1102,30,1,1008,1101,25,0,1010,1102,1,23,1009,1101,0,22,1013,1101,470,0,1029,1102,24,1,1014,1102,1,39,1005,1101,31,0,1003,1101,807,0,1026,1101,0,26,1018,1102,1,804,1027,1101,0,0,1020,1102,1,38,1017,1101,0,27,1016,1102,443,1,1024,1101,0,36,1006,1102,21,1,1015,1101,28,0,1001,1102,33,1,1019,1102,1,37,1011,1102,1,190,1023,1101,0,434,1025,1101,34,0,1004,1102,1,1,1021,1101,0,29,1012,1102,1,32,1002,1101,35,0,1000,109,30,2105,1,-7,1001,64,1,64,1105,1,199,4,187,1002,64,2,64,109,-23,2101,0,-5,63,1008,63,32,63,1005,63,225,4,205,1001,64,1,64,1105,1,225,1002,64,2,64,109,7,2102,1,-5,63,1008,63,23,63,1005,63,251,4,231,1001,64,1,64,1106,0,251,1002,64,2,64,109,-16,2101,0,2,63,1008,63,33,63,1005,63,275,1001,64,1,64,1106,0,277,4,257,1002,64,2,64,109,10,21102,40,1,4,1008,1012,40,63,1005,63,299,4,283,1106,0,303,1001,64,1,64,1002,64,2,64,109,7,2102,1,-9,63,1008,63,33,63,1005,63,327,1001,64,1,64,1105,1,329,4,309,1002,64,2,64,109,-17,2107,34,2,63,1005,63,347,4,335,1105,1,351,1001,64,1,64,1002,64,2,64,109,1,1201,8,0,63,1008,63,23,63,1005,63,375,1001,64,1,64,1106,0,377,4,357,1002,64,2,64,109,-4,2108,31,8,63,1005,63,395,4,383,1105,1,399,1001,64,1,64,1002,64,2,64,109,3,1201,8,0,63,1008,63,36,63,1005,63,421,4,405,1105,1,425,1001,64,1,64,1002,64,2,64,109,25,2105,1,1,4,431,1001,64,1,64,1105,1,443,1002,64,2,64,109,-3,1205,0,459,1001,64,1,64,1106,0,461,4,449,1002,64,2,64,109,-2,2106,0,10,4,467,1106,0,479,1001,64,1,64,1002,64,2,64,109,12,1206,-9,495,1001,64,1,64,1106,0,497,4,485,1002,64,2,64,109,-39,1207,9,36,63,1005,63,519,4,503,1001,64,1,64,1105,1,519,1002,64,2,64,109,11,1202,-1,1,63,1008,63,28,63,1005,63,541,4,525,1105,1,545,1001,64,1,64,1002,64,2,64,109,6,2107,24,1,63,1005,63,565,1001,64,1,64,1106,0,567,4,551,1002,64,2,64,109,1,1207,-3,35,63,1005,63,583,1106,0,589,4,573,1001,64,1,64,1002,64,2,64,109,1,21102,41,1,5,1008,1015,40,63,1005,63,613,1001,64,1,64,1105,1,615,4,595,1002,64,2,64,109,-2,2108,22,1,63,1005,63,635,1001,64,1,64,1105,1,637,4,621,1002,64,2,64,109,-10,1208,4,33,63,1005,63,653,1106,0,659,4,643,1001,64,1,64,1002,64,2,64,109,16,1206,6,673,4,665,1106,0,677,1001,64,1,64,1002,64,2,64,109,-4,1202,-8,1,63,1008,63,35,63,1005,63,701,1001,64,1,64,1105,1,703,4,683,1002,64,2,64,109,13,21108,42,42,-8,1005,1015,721,4,709,1105,1,725,1001,64,1,64,1002,64,2,64,109,-18,21107,43,44,5,1005,1010,743,4,731,1106,0,747,1001,64,1,64,1002,64,2,64,109,-11,1208,8,32,63,1005,63,765,4,753,1106,0,769,1001,64,1,64,1002,64,2,64,109,15,21101,44,0,5,1008,1014,47,63,1005,63,789,1105,1,795,4,775,1001,64,1,64,1002,64,2,64,109,13,2106,0,5,1106,0,813,4,801,1001,64,1,64,1002,64,2,64,109,-12,21108,45,43,0,1005,1010,829,1106,0,835,4,819,1001,64,1,64,1002,64,2,64,109,-4,21107,46,45,10,1005,1016,855,1001,64,1,64,1106,0,857,4,841,1002,64,2,64,109,3,21101,47,0,5,1008,1014,47,63,1005,63,883,4,863,1001,64,1,64,1106,0,883,1002,64,2,64,109,10,1205,2,901,4,889,1001,64,1,64,1105,1,901,4,64,99,21102,27,1,1,21102,915,1,0,1106,0,922,21201,1,13433,1,204,1,99,109,3,1207,-2,3,63,1005,63,964,21201,-2,-1,1,21101,0,942,0,1106,0,922,22102,1,1,-1,21201,-2,-3,1,21102,1,957,0,1105,1,922,22201,1,-1,-2,1106,0,968,21202,-2,1,-2,109,-3,2106,0,0]
c3.load_program(code_3)
c3.set_input(1)
run(c3)
print("Day 9 pt 1: ", c3.output[0] == 2682107844)
c3.reset()
c3.load_program(code_3)
c3.set_input(2)
run(c3)
print("Day 9 pt 2: ", c3.output[0] == 34738)
'''
'''
# DAY 13
c4 = Computer()
code_13 = [1,380,379,385,1008,2719,351522,381,1005,381,12,99,109,2720,1102,1,0,383,1101,0,0,382,20102,1,382,1,21002,383,1,2,21101,37,0,0,1105,1,578,4,382,4,383,204,1,1001,382,1,382,1007,382,40,381,1005,381,22,1001,383,1,383,1007,383,26,381,1005,381,18,1006,385,69,99,104,-1,104,0,4,386,3,384,1007,384,0,381,1005,381,94,107,0,384,381,1005,381,108,1106,0,161,107,1,392,381,1006,381,161,1102,1,-1,384,1105,1,119,1007,392,38,381,1006,381,161,1102,1,1,384,21002,392,1,1,21101,24,0,2,21101,0,0,3,21102,1,138,0,1105,1,549,1,392,384,392,20102,1,392,1,21101,0,24,2,21102,1,3,3,21101,0,161,0,1105,1,549,1101,0,0,384,20001,388,390,1,21001,389,0,2,21102,1,180,0,1106,0,578,1206,1,213,1208,1,2,381,1006,381,205,20001,388,390,1,21001,389,0,2,21101,205,0,0,1106,0,393,1002,390,-1,390,1101,1,0,384,20102,1,388,1,20001,389,391,2,21101,0,228,0,1105,1,578,1206,1,261,1208,1,2,381,1006,381,253,21002,388,1,1,20001,389,391,2,21102,253,1,0,1106,0,393,1002,391,-1,391,1101,0,1,384,1005,384,161,20001,388,390,1,20001,389,391,2,21102,1,279,0,1106,0,578,1206,1,316,1208,1,2,381,1006,381,304,20001,388,390,1,20001,389,391,2,21101,304,0,0,1106,0,393,1002,390,-1,390,1002,391,-1,391,1101,1,0,384,1005,384,161,21001,388,0,1,21002,389,1,2,21102,0,1,3,21102,338,1,0,1106,0,549,1,388,390,388,1,389,391,389,21001,388,0,1,20101,0,389,2,21101,4,0,3,21101,365,0,0,1106,0,549,1007,389,25,381,1005,381,75,104,-1,104,0,104,0,99,0,1,0,0,0,0,0,0,298,18,21,1,1,20,109,3,22101,0,-2,1,22101,0,-1,2,21102,1,0,3,21102,414,1,0,1106,0,549,21202,-2,1,1,22101,0,-1,2,21101,429,0,0,1106,0,601,2101,0,1,435,1,386,0,386,104,-1,104,0,4,386,1001,387,-1,387,1005,387,451,99,109,-3,2105,1,0,109,8,22202,-7,-6,-3,22201,-3,-5,-3,21202,-4,64,-2,2207,-3,-2,381,1005,381,492,21202,-2,-1,-1,22201,-3,-1,-3,2207,-3,-2,381,1006,381,481,21202,-4,8,-2,2207,-3,-2,381,1005,381,518,21202,-2,-1,-1,22201,-3,-1,-3,2207,-3,-2,381,1006,381,507,2207,-3,-4,381,1005,381,540,21202,-4,-1,-1,22201,-3,-1,-3,2207,-3,-4,381,1006,381,529,21201,-3,0,-7,109,-8,2106,0,0,109,4,1202,-2,40,566,201,-3,566,566,101,639,566,566,1201,-1,0,0,204,-3,204,-2,204,-1,109,-4,2105,1,0,109,3,1202,-1,40,593,201,-2,593,593,101,639,593,593,21001,0,0,-2,109,-3,2106,0,0,109,3,22102,26,-2,1,22201,1,-1,1,21102,1,523,2,21102,583,1,3,21102,1040,1,4,21101,0,630,0,1106,0,456,21201,1,1679,-2,109,-3,2105,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,2,2,0,2,0,0,2,0,2,2,2,0,2,0,2,0,2,2,0,0,0,2,2,2,0,2,0,0,0,1,1,0,2,2,0,2,0,2,0,0,2,0,0,0,2,2,2,0,0,0,2,0,2,0,0,0,2,2,0,0,0,2,0,0,0,2,0,2,0,1,1,0,2,0,2,0,2,0,2,2,2,0,0,2,0,0,0,0,0,2,0,0,0,2,0,2,0,2,2,0,2,2,0,2,2,2,2,0,0,1,1,0,0,0,0,0,0,2,2,2,2,0,0,2,0,0,0,0,0,0,2,0,2,2,0,0,2,2,2,2,2,2,2,0,2,2,2,2,0,1,1,0,2,0,0,2,0,0,0,0,0,2,0,0,0,0,0,2,2,0,0,2,2,2,0,0,0,2,2,2,0,2,0,0,0,2,0,0,0,1,1,0,0,2,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,2,0,0,2,0,2,0,0,0,2,2,2,2,0,2,2,2,2,0,0,1,1,0,2,2,0,0,0,0,2,2,0,2,0,0,0,2,2,2,0,2,0,0,0,2,0,0,0,0,0,2,2,0,2,2,2,0,0,0,0,1,1,0,0,0,0,0,2,0,2,0,0,2,2,2,2,0,2,2,0,0,2,0,0,2,2,0,2,2,2,0,0,2,2,0,0,0,2,0,0,1,1,0,0,0,2,0,2,0,2,0,2,0,0,2,2,2,2,0,0,0,2,0,2,0,2,2,2,0,0,2,2,2,0,0,0,2,0,0,0,1,1,0,0,2,0,0,0,2,2,2,0,2,0,0,0,2,2,0,0,0,0,0,0,0,2,2,0,2,0,2,0,2,2,2,2,2,0,0,0,1,1,0,0,2,2,2,2,0,2,0,0,0,2,2,2,2,0,2,0,2,2,0,2,0,2,0,0,2,0,0,0,2,2,0,0,0,2,0,0,1,1,0,2,0,0,2,2,0,0,0,2,0,0,2,0,0,0,2,0,2,0,0,0,0,0,0,0,2,2,0,2,0,2,2,2,0,2,0,0,1,1,0,2,0,2,0,2,0,2,0,2,0,2,0,0,0,2,0,2,2,0,2,2,2,2,2,0,0,2,2,0,2,2,2,0,2,0,0,0,1,1,0,0,2,2,0,0,0,2,0,0,0,0,2,0,0,2,2,0,2,2,2,0,0,2,2,2,2,2,2,0,2,0,2,2,0,0,2,0,1,1,0,2,2,2,0,2,0,0,0,2,2,2,2,0,0,2,2,2,0,0,0,2,2,2,0,2,0,2,0,2,0,2,2,0,0,0,2,0,1,1,0,0,0,0,0,2,2,2,0,0,2,0,2,2,0,0,0,2,0,0,2,2,2,2,0,0,2,0,0,0,2,0,2,0,0,2,0,0,1,1,0,0,0,2,0,2,2,0,2,2,2,2,0,0,0,0,0,2,2,0,2,0,0,2,0,2,2,2,2,2,0,2,2,2,0,0,0,0,1,1,0,2,2,2,0,0,0,0,0,0,2,0,2,0,2,0,2,2,0,0,0,0,0,2,0,2,0,0,0,2,0,0,0,0,0,2,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,94,63,98,14,55,98,64,9,39,55,40,3,77,79,41,40,52,25,26,46,83,8,72,65,35,58,50,6,78,78,40,77,45,49,98,98,47,68,93,85,87,19,71,89,59,81,2,62,12,53,10,21,45,23,11,95,37,33,57,32,82,63,2,97,43,93,91,66,32,55,20,53,14,7,50,62,41,32,12,63,85,86,2,83,63,7,1,91,7,67,6,57,74,63,21,14,50,92,96,13,73,52,27,39,1,17,82,87,58,45,30,31,29,85,70,59,95,71,75,74,12,51,62,83,38,53,15,13,45,6,71,35,98,36,88,9,77,37,4,5,52,59,53,83,77,7,8,97,56,97,14,40,82,93,1,81,37,38,49,89,70,9,60,1,12,79,5,22,7,86,41,42,79,24,51,9,1,8,72,3,53,71,76,49,55,57,95,87,68,33,6,28,7,50,81,75,57,72,95,67,12,29,19,77,52,69,72,38,16,21,4,91,15,1,11,3,70,46,54,95,24,93,13,40,23,14,93,58,59,87,54,79,84,38,7,97,66,40,66,42,1,66,45,82,64,65,95,19,43,16,20,36,94,39,95,25,2,75,96,55,7,63,30,8,86,92,68,54,75,81,49,75,29,77,3,85,23,72,19,44,8,5,40,48,65,23,67,76,43,87,72,52,46,61,22,42,86,86,23,46,17,58,67,86,83,36,93,95,53,69,14,58,54,69,25,2,51,2,51,35,24,57,92,75,82,23,61,19,94,15,34,4,29,10,24,81,2,88,48,5,84,72,64,28,11,57,3,30,71,58,88,7,63,54,15,66,48,4,5,78,35,37,24,89,89,68,90,38,85,81,9,73,36,28,5,89,42,14,5,76,72,2,38,97,49,46,80,86,17,71,3,27,2,4,28,91,31,9,83,89,63,47,53,38,30,35,21,66,27,51,3,68,70,17,30,57,83,80,66,32,92,52,84,80,29,4,79,20,86,41,17,31,39,67,25,39,97,41,53,63,78,26,85,57,76,82,25,48,81,92,66,49,29,95,89,56,65,87,62,71,63,17,46,98,4,86,39,26,12,14,51,73,38,46,27,98,66,1,19,65,56,98,25,27,98,78,31,49,47,42,32,13,3,60,1,11,14,42,69,11,76,86,95,17,19,92,77,8,19,85,81,69,22,18,48,68,27,2,24,3,10,25,6,27,3,28,64,23,3,7,94,96,84,27,18,9,60,90,60,37,72,58,93,72,36,21,85,62,11,64,34,5,3,6,9,31,85,25,81,34,87,86,88,35,69,8,7,18,31,24,8,79,71,45,51,41,83,13,81,39,34,3,44,17,27,71,7,13,36,89,70,77,79,61,31,62,51,15,78,72,37,32,82,62,10,32,84,79,64,19,89,56,51,52,87,44,31,18,75,96,26,79,58,51,2,54,84,42,17,60,37,34,66,33,4,20,93,43,8,90,43,92,10,90,43,9,34,18,39,79,32,1,36,69,90,29,49,56,63,60,36,46,38,79,6,57,1,97,65,78,47,82,78,25,33,3,14,22,89,37,29,81,68,82,41,31,16,91,13,73,68,4,79,6,86,91,87,69,85,46,41,85,6,36,87,93,18,74,55,84,3,9,88,19,30,46,47,33,79,94,67,75,36,8,66,14,52,10,92,91,93,5,63,52,42,11,11,48,45,66,51,30,5,39,39,49,66,38,57,19,54,90,44,60,31,11,21,31,56,35,76,35,67,79,70,18,11,50,6,97,59,5,72,50,54,75,41,19,54,12,47,56,42,80,70,69,69,34,97,57,43,6,60,52,39,43,52,34,4,41,86,47,2,80,41,15,60,50,24,31,24,83,34,19,40,55,42,25,93,39,85,29,98,95,67,55,62,4,26,19,61,93,14,11,45,50,40,81,61,57,17,44,3,75,7,74,20,70,2,63,29,52,48,47,29,90,8,36,39,77,62,97,11,43,31,13,25,5,66,2,6,20,49,89,48,67,79,66,74,48,79,45,5,35,31,33,50,95,23,56,33,40,75,24,81,84,56,35,96,11,95,29,7,55,17,37,18,20,32,41,4,71,74,67,7,46,1,86,70,9,13,40,17,12,64,31,65,60,40,4,6,42,57,89,15,40,53,88,14,2,35,5,16,44,62,6,53,83,76,87,26,82,1,7,25,66,65,53,60,52,57,64,9,16,88,2,93,33,62,82,27,17,29,17,40,68,83,4,28,83,62,6,91,45,69,30,8,39,55,78,97,46,13,2,7,80,74,19,68,20,2,5,35,55,62,25,32,55,3,76,92,70,62,36,73,14,55,12,4,25,46,25,17,41,63,19,74,70,86,4,80,50,97,44,65,51,44,7,78,59,351522]
c4.load_program(code_13)
run(c4)
blocks = sum([1 for i in range(2,len(c4.output),3) if c4.output[i] == 2])
print("Day 13 pt 1: ", blocks)

## TODO: implement AI for part 2. play the game until no blocks left.
## each time: it outputs board state, but if triple begins with -1, 0, last part == score
## first input 2
'''
